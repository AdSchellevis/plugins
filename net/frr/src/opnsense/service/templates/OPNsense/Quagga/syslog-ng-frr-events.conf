{% if not helpers.empty('OPNsense.quagga.general.enabled')
  and not helpers.empty('OPNsense.quagga.ospf.enabled')
  and not helpers.empty('OPNsense.quagga.ospf.carp_demote') %}
destination d_frr_event {
    program("/usr/local/opnsense/scripts/quagga/event_loop.sh");
};

filter f_frr_ospf {
    program("ospfd") and level("info") and (
         message(".*Neighbor.*Negotiation.*")
    );
};

log {
    source(s_all);
    filter(f_frr_ospf);
    destination(d_frr_event);
};
{% endif %}
